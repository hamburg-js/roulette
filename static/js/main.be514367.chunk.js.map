{"version":3,"sources":["Arm.tsx","hooks/useCanvas.ts","Wheel.tsx","BottomButton.tsx","Confetti.tsx","hooks/useCandidates.ts","hooks/useJsonp.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["arm","keyframes","_templateObject","hand","_templateObject2","finger","_templateObject3","Svg","styled","svg","_templateObject4","Arm","react_default","a","createElement","xmlns","viewBox","fill","fillRule","d","className","useCanvas","draw","ref","useRef","useLayoutEffect","canvas","current","ctx","getContext","dpr","window","devicePixelRatio","_canvas$getBoundingCl","getBoundingClientRect","width","height","scale","dimensions","animationFrameId","requestAnimationFrame","renderFrame","cancelAnimationFrame","h","Math","random","Canvas","Wheel_templateObject","Wheel","_ref","b","candidates","spin","onDone","spinning","startAngle","f","floor","_ref2","arc","PI","length","i","j","k","start","change","duration","x","easeOut","center","radius","clearRect","forEach","t","g","fillStyle","color","beginPath","save","moveTo","lineTo","useEffect","handle","setTimeout","clearTimeout","BottomButton","button","BottomButton_templateObject","Background","div","Confetti_templateObject","Confetti_templateObject2","Photo","img","Confetti_templateObject3","Name","Confetti_templateObject4","intensity","angle","speed","particles","Confetti","name","photo","url","onClick","e","r","push","y","tilt","tiltAngleIncremental","tiltAngle","initParticles","lineWidth","strokeStyle","stroke","TiltChangeCountdown","c","cos","sin","Object","objectSpread","style","backgroundColor","src","href","Confetti_Canvas","src_BottomButton","useCandidates","data","callback","arguments","undefined","_useState","useState","_useState2","slicedToArray","setData","s","document","parentNode","removeChild","body","appendChild","useJsonp","setCandidates","_data$data","concat","apply","toConsumableArray","map","replies","filter","Boolean","member","photo_link","getUrl","comment","getColor","getCandidates","candidate","indexOf","slice","m","exec","n","Stage","App_templateObject","location","hostname","match","ReactDOM","render","setSpin","_useState3","_useState4","winner","setWinner","_useCandidates","_useCandidates2","removeCandidate","assign","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.be514367.chunk.js","sourcesContent":["import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst arm = keyframes`\n  0 {\n    transform: translateX(0);\n  }\n  50% {\n    transform: translateX(-100%);\n  }\n  85% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(0);\n  }\n`;\n\nconst hand = keyframes`\n  0% {\n    transform: rotate(25deg);\n  }\n  60% {\n    transform: rotate(-5deg);\n  }\n  100% {\n    transform: rotate(0deg);\n  }\n`;\n\nconst finger = keyframes`\n  0% {\n    transform: rotate(5deg);\n  }\n  100% {\n    transform: rotate(-10deg);\n  }\n`;\n\nconst Svg = styled.svg`\n  position: fixed;\n  left: 100vw;\n  top: calc(50vh - 16vw);\n  width: 33vw;\n  transform: translateX(0);\n  animation: ${arm} 2s ease-in-out;\n  & .finger {\n    animation: ${finger} 0.05s 1s both ease-in;\n    transform-origin: 98px 39px;\n  }\n  & .hand {\n    animation: ${hand} 0.1s 1.1s both ease-out;\n    transform-origin: 138px 83px;\n  }\n`;\n\nexport default function Arm() {\n  return (\n    <Svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-55 -220 520 564\">\n      <g fill=\"#F0B065\" fillRule=\"evenodd\">\n        <path d=\"M97 70c0-16 12-28 28-28 13 0 23 7 28 18l16 35-42 14c-3-4-6-7-8-9l-6-3c-10-5-16-15-16-27z\" />\n        <g className=\"hand\">\n          <path d=\"M79 9c-8 5-2 18 18 39-16 6-34 14-53 24-7 7-2 15 11 21 7 9 25 18 38 11 23-12 40-3 51-14s17-34-18-49C99 31 91 3 79 9z\" />\n          <path\n            className=\"finger\"\n            d=\"M101 46.3c-1-10.3-27-9.1-46.3-1.8-19.5 8.8-57.5 36.6-49 45.3 8.6 8.7 37.6-21.4 49.7-25 13-4.2 47.5-8.9 45.6-18.5z\"\n          />\n        </g>\n        <path\n          fill=\"#696B8A\"\n          d=\"M124 106c39 88 98 139 178 153 79 13 151-9 217-67l-1-77c-70 82-139 114-208 96-70-18-117-58-143-120l-43 15z\"\n        />\n      </g>\n    </Svg>\n  );\n}\n","import { useRef, useLayoutEffect } from \"react\";\n\nexport default function useCanvas(\n  draw: (\n    ctx: CanvasRenderingContext2D,\n    dimensions: { width: number; height: number }\n  ) => void\n) {\n  const ref = useRef<HTMLCanvasElement>(null);\n  useLayoutEffect(() => {\n    const canvas = ref.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return;\n    var dpr = window.devicePixelRatio || 1;\n    var { width, height } = canvas.getBoundingClientRect();\n\n    //canvas.style.width = width + \"px\";\n    //canvas.style.height = height + \"px\";\n\n    // Give the canvas pixel dimensions of their CSS\n    // size * the device pixel ratio.\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n\n    // Scale all drawing operations by the dpr, so you\n    // don't have to worry about the difference.\n    ctx.scale(dpr, dpr);\n\n    const dimensions = { width, height };\n    let animationFrameId = requestAnimationFrame(renderFrame);\n    function renderFrame() {\n      animationFrameId = requestAnimationFrame(renderFrame);\n      if (ctx) draw(ctx, dimensions);\n    }\n    return () => cancelAnimationFrame(animationFrameId);\n  });\n  return ref;\n}\n","import React, { useRef, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport useCanvas from \"./hooks/useCanvas\";\n\nconst g = 5 + 5 * Math.random();\nconst h = 1000 * g;\n\nconst Canvas = styled.canvas`\n  position: absolute;\n  left: 25vw;\n  top: calc(50vh - 25vw);\n  width: 50vw;\n  height: 50vw;\n`;\n\nfunction getRandom(a: number, b: number) {\n  return Math.floor(Math.random() * a + b);\n}\n\nfunction easeOut(\n  current: number,\n  start: number,\n  change: number,\n  duration: number\n) {\n  const x = (current /= duration) * current;\n  return start + change * (x * current + -3 * x + 3 * current);\n}\n\ninterface Props {\n  candidates: any[];\n  spin: boolean;\n  onDone: (winner: any) => void;\n}\nexport default function Wheel({ candidates, spin, onDone }: Props) {\n  const spinning = useRef(spin);\n\n  var startAngle = 0;\n  var f = 0;\n  var d = 10 + getRandom(17, 20);\n\n  const ref = useCanvas((ctx, { width }) => {\n    const arc = Math.PI / (candidates.length / 2);\n\n    if (spinning.current) {\n      f += 10;\n      if (f >= h) {\n        var i = (180 * startAngle) / Math.PI + 90;\n        var j = (180 * arc) / Math.PI;\n        var k = Math.floor((360 - (i % 360)) / j);\n        onDone(candidates[k]);\n        return;\n      }\n      const a = d - easeOut(f, 0, d, h);\n      startAngle += (a * Math.PI) / 180;\n    }\n\n    var center = width / 2;\n\n    var radius = center - 30;\n    ctx.clearRect(0, 0, 1e3, 1e3);\n    candidates.forEach((t, g) => {\n      var h = startAngle + g * arc;\n      ctx.fillStyle = t.color;\n      ctx.beginPath();\n      ctx.arc(center, center, radius, h, h + arc);\n      ctx.arc(center, center, 0, h + arc, h, true);\n      ctx.fill();\n      ctx.save();\n    });\n    ctx.fillStyle = \"#fff\";\n    ctx.beginPath();\n    ctx.moveTo(center - 30, 15);\n    ctx.lineTo(center + 30, 15);\n    ctx.lineTo(center, 60);\n    ctx.lineTo(center - 30, 15);\n    ctx.fill();\n  });\n\n  useEffect(() => {\n    const handle = setTimeout(() => {\n      spinning.current = spin;\n    }, 1100);\n    return () => clearTimeout(handle);\n  }, [spin]);\n\n  return <Canvas ref={ref} />;\n}\n","import styled from \"styled-components\";\n\nconst BottomButton = styled.button`\n  font-size: 5vw;\n  position: absolute;\n  z-index: 1;\n  display: block;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  padding: 0.2em;\n  background: #fff;\n  border: none;\n  text-align: center;\n  font-style: italic;\n  margin: 0 auto;\n  color: #000;\n  transition: all 0.2s;\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n  :hover {\n    padding: 0.5em;\n  }\n`;\n\nexport default BottomButton;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport useCanvas from \"./hooks/useCanvas\";\nimport BottomButton from \"./BottomButton\";\n\nconst Background = styled.div`\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Canvas = styled.canvas`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n`;\n\nconst Photo = styled.img`\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n`;\n\nconst Name = styled.a`\n  font-size: 10vw;\n  font-weight: bold;\n  text-decoration: underline;\n  color: #fff;\n  transform: rotate(-10deg);\n`;\n\nfunction randomFromTo(a: number, b: number) {\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n\nvar intensity = 150;\nvar angle = 0;\nvar speed = 2;\nvar tiltAngle = 0;\nvar TiltChangeCountdown = 5;\n\ntype Color = {\n  r: number;\n  g: number;\n  b: number;\n};\n\ntype Particle = {\n  x: number;\n  y: number;\n  r: number;\n  d: number;\n  color: string;\n  tilt: number;\n  tiltAngleIncremental: number;\n  tiltAngle: number;\n};\n\nvar particles: Particle[] = [];\n\nfunction initParticles(width: number, height: number) {\n  for (var e = 0; e < intensity; e++) {\n    var color = {\n      r: Math.floor(255 * Math.random()),\n      g: Math.floor(255 * Math.random()),\n      b: Math.floor(255 * Math.random())\n    };\n\n    particles.push({\n      x: Math.random() * width,\n      y: Math.random() * height,\n      r: randomFromTo(5, 30),\n      d: Math.random() * intensity + 10,\n      color: \"rgba(\" + color.r + \", \" + color.g + \", \" + color.b + \", 0.7)\",\n      tilt: Math.floor(10 * Math.random()) - 10,\n      tiltAngleIncremental: 0.07 * Math.random() + 0.05,\n      tiltAngle: 0\n    });\n  }\n}\n\ninterface Props extends Candidate {\n  onClick: () => void;\n}\nexport default function Confetti({ name, photo, url, color, onClick }: Props) {\n  const ref = useCanvas((ctx, { width, height }) => {\n    if (!particles.length) {\n      initParticles(width, height);\n    }\n    ctx.clearRect(0, 0, width, height);\n    particles.forEach(d => {\n      ctx.beginPath();\n      ctx.lineWidth = d.r / 2;\n      ctx.strokeStyle = d.color;\n      ctx.moveTo(d.x + d.tilt + d.r / 4, d.y);\n      ctx.lineTo(d.x + d.tilt, d.y + d.tilt + d.r / 4);\n      ctx.stroke();\n    });\n\n    angle += 0.01;\n    tiltAngle += 0.1;\n    TiltChangeCountdown--;\n\n    particles.forEach((c, a) => {\n      c.tiltAngle += c.tiltAngleIncremental;\n      c.y += (Math.cos(angle + c.d) + 1 + c.r / speed) / 2;\n      c.x += Math.sin(angle);\n      c.tilt = 15 * Math.sin(c.tiltAngle - a / 3);\n\n      if (c.x > width + 5 || c.x < -5 || c.y > height) {\n        particles[a] =\n          a % 5 > 0 || a % 2 === 0\n            ? {\n                ...c,\n                x: Math.random() * width,\n                y: -10,\n                tilt: Math.floor(10 * Math.random()) - 10\n              }\n            : Math.sin(angle) > 0\n            ? {\n                ...c,\n                x: -5,\n                y: Math.random() * height,\n                tilt: Math.floor(10 * Math.random()) - 10\n              }\n            : {\n                ...c,\n                x: width + 5,\n                y: Math.random() * height,\n                tilt: Math.floor(10 * Math.random()) - 10\n              };\n      }\n    });\n  });\n  return (\n    <Background style={{ backgroundColor: color }}>\n      <Photo src={photo} />\n      <Name href={url}>{name}</Name>\n      <Canvas ref={ref} />\n      <BottomButton style={{ color }} onClick={onClick}>\n        Next...\n      </BottomButton>\n    </Background>\n  );\n}\n","import useJsonp from \"./useJsonp\";\nimport { useEffect, useState } from \"react\";\n\nexport default function useCandidates() {\n  const data = useJsonp(\n    \"https://api.meetup.com/hamburg-js/events/244146883/comments?callback=callback\"\n  );\n  const [candidates, setCandidates] = useState();\n\n  useEffect(() => {\n    if (data) setCandidates(getCandidates(data));\n  }, [data]);\n\n  const remove = (candidate: Candidate) => {\n    if (candidates) {\n      const i = candidates.indexOf(candidate);\n      setCandidates(candidates.slice(0, i).concat(candidates.slice(i + 1)));\n    }\n  };\n\n  return [candidates, remove] as [Candidate[], (c: Candidate) => void];\n}\n\nfunction getUrl(s: string) {\n  const m = /https?:\\S+/.exec(s);\n  return m && m[0];\n}\n\nfunction getColor(i: number, n: number) {\n  return `hsl(${50 + (360 / n) * i}, ${90 + Math.random() * 10}%, ${55 +\n    Math.random() * 10}%)`;\n}\n\nfunction getCandidates(data: any): Candidate[] {\n  const comments = data.data.concat(\n    ...data.data.map((c: any) => c.replies).filter(Boolean)\n  );\n  return comments\n    .map((c: any) => ({\n      name: c.member && c.member.name,\n      photo: c.member && c.member.photo && c.member.photo.photo_link,\n      url: getUrl(c.comment)\n    }))\n    .filter((c: any) => c.url)\n    .map((c: any, i: number, a: any[]) => ({\n      ...c,\n      color: getColor(i, a.length)\n    }));\n}\n","import { useState, useEffect } from \"react\";\n\n/**\n * Hook that loads JSONP from a specified URL.\n */\nexport default function useJsonp(url: string | false, callback = \"callback\") {\n  const [data, setData] = useState();\n  useEffect(() => {\n    setData(null);\n    if (url) {\n      const s = document.createElement(\"script\");\n      (window as any)[callback] = (data: any) => {\n        setData(data);\n        delete (window as any)[callback];\n        if (s.parentNode) s.parentNode.removeChild(s);\n      };\n      s.src = url;\n      document.body.appendChild(s);\n    }\n  }, [url, callback]);\n  return data;\n}\n","import React, { useState } from \"react\";\nimport Arm from \"./Arm\";\nimport Wheel from \"./Wheel\";\nimport Confetti from \"./Confetti\";\nimport styled from \"styled-components\";\nimport BottomButton from \"./BottomButton\";\nimport useCandidates from \"./hooks/useCandidates\";\n\nconst Stage = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  background: #f7f0ee;\n`;\n\nexport default function App() {\n  const [spin, setSpin] = useState(false);\n  const [winner, setWinner] = useState<Candidate>();\n  const [candidates, removeCandidate] = useCandidates();\n  if (!candidates || !candidates.length) return null;\n  const candidate = candidates.length === 1 ? candidates[0] : winner;\n  if (candidate)\n    return (\n      <Confetti\n        {...candidate}\n        onClick={() => {\n          removeCandidate(candidate);\n          setWinner(undefined);\n          setSpin(false);\n        }}\n      />\n    );\n  return (\n    <Stage>\n      <Wheel spin={spin} onDone={setWinner} candidates={candidates} />\n      {spin && <Arm />}\n      {!spin && <BottomButton onClick={() => setSpin(true)}>GO!</BottomButton>}\n    </Stage>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}