{"version":3,"sources":["logo.svg","hooks/useAudio.ts","Arm.tsx","hooks/useCanvas.ts","Wheel.tsx","BottomButton.tsx","Confetti.tsx","hooks/useCandidates.ts","hooks/useFetch.ts","hooks/useJsonp.ts","App.tsx","Root.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","useAudio","src","_ref","arguments","length","undefined","_ref$delay","delay","_ref$loop","loop","_ref$fade","fade","useEffect","a","document","createElement","body","appendChild","setTimeout","play","volume","fadeOut","removeChild","arm","keyframes","_templateObject","hand","_templateObject2","finger","_templateObject3","Svg","styled","svg","_templateObject4","Arm","react_default","xmlns","viewBox","fill","fillRule","d","className","useCanvas","draw","ref","useRef","useLayoutEffect","canvas","current","ctx","getContext","dpr","window","devicePixelRatio","_canvas$getBoundingCl","getBoundingClientRect","width","height","scale","dimensions","animationFrameId","requestAnimationFrame","renderFrame","cancelAnimationFrame","h","Canvas","Wheel_templateObject","Wheel","candidates","spin","onDone","concat","process","b","spinning","startAngle","f","Math","floor","random","_ref2","arc","PI","i","j","k","start","change","duration","x","easeOut","center","radius","clearRect","forEach","t","g","fillStyle","color","beginPath","save","moveTo","lineTo","handle","clearTimeout","BottomButton","button","BottomButton_templateObject","fadeIn","Confetti_templateObject","Background","div","Confetti_templateObject2","Confetti_templateObject3","Photo","img","Confetti_templateObject4","Name","_templateObject5","intensity","angle","speed","particles","Confetti","name","photo","url","onClick","e","r","push","y","tilt","tiltAngleIncremental","tiltAngle","initParticles","lineWidth","strokeStyle","stroke","TiltChangeCountdown","c","cos","sin","Object","objectSpread","style","backgroundColor","href","Confetti_Canvas","src_BottomButton","useCandidates","eventId","example","_useState","useState","_useState2","slicedToArray","data","setData","fetch","then","res","json","useFetch","callback","s","parentNode","useJsonp","setCandidates","_data$data","apply","toConsumableArray","map","replies","filter","Boolean","member","photo_link","getUrl","comment","getColor","getCandidates","candidate","indexOf","slice","m","exec","n","App","setSpin","_useState3","_useState4","winner","setWinner","_useCandidates","_useCandidates2","removeCandidate","assign","Fragment","Stage","Root_templateObject","Logo","Root_templateObject2","location","hostname","match","ReactDOM","render","logo","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6b8656f4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.dafd9863.svg\";","import { useEffect } from \"react\";\n\n/**\n * Hook that plays an audio file\n */\nexport default function useAudio(\n  src: string | false,\n  { delay = 0, loop = false, fade = 0 } = {}\n) {\n  useEffect(() => {\n    const a = document.createElement(\"audio\");\n    a.loop = loop;\n    document.body.appendChild(a);\n    if (src) a.src = src;\n    setTimeout(() => a.play(), delay);\n    const volume = fade ? 1 / fade / 10 : 1;\n    function fadeOut() {\n      if (fade <= 0) document.body.removeChild(a);\n      else {\n        fade -= 100;\n        a.volume -= volume;\n        setTimeout(fadeOut, 100);\n      }\n    }\n    return fadeOut;\n  }, [src]);\n}\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport useAudio from \"./hooks/useAudio\";\n\nconst arm = keyframes`\n  0 {\n    transform: translateX(0);\n  }\n  50% {\n    transform: translateX(-100%);\n  }\n  85% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(0);\n  }\n`;\n\nconst hand = keyframes`\n  0% {\n    transform: rotate(25deg);\n  }\n  60% {\n    transform: rotate(-5deg);\n  }\n  100% {\n    transform: rotate(0deg);\n  }\n`;\n\nconst finger = keyframes`\n  0% {\n    transform: rotate(5deg);\n  }\n  100% {\n    transform: rotate(-10deg);\n  }\n`;\n\nconst Svg = styled.svg`\n  position: fixed;\n  left: 100vw;\n  top: calc(50vh - 16vw);\n  width: 33vw;\n  transform: translateX(0);\n  animation: ${arm} 2s ease-in-out;\n  & .finger {\n    animation: ${finger} 0.05s 1s both ease-in;\n    transform-origin: 98px 39px;\n  }\n  & .hand {\n    animation: ${hand} 0.1s 1.1s both ease-out;\n    transform-origin: 138px 83px;\n  }\n`;\n\nexport default function Arm() {\n  useAudio(\"/spin.mp3\", { delay: 1100 });\n  return (\n    <Svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-55 -220 520 564\">\n      <g fill=\"#F0B065\" fillRule=\"evenodd\">\n        <path d=\"M97 70c0-16 12-28 28-28 13 0 23 7 28 18l16 35-42 14c-3-4-6-7-8-9l-6-3c-10-5-16-15-16-27z\" />\n        <g className=\"hand\">\n          <path d=\"M79 9c-8 5-2 18 18 39-16 6-34 14-53 24-7 7-2 15 11 21 7 9 25 18 38 11 23-12 40-3 51-14s17-34-18-49C99 31 91 3 79 9z\" />\n          <path\n            className=\"finger\"\n            d=\"M101 46.3c-1-10.3-27-9.1-46.3-1.8-19.5 8.8-57.5 36.6-49 45.3 8.6 8.7 37.6-21.4 49.7-25 13-4.2 47.5-8.9 45.6-18.5z\"\n          />\n        </g>\n        <path\n          fill=\"#696B8A\"\n          d=\"M124 106c39 88 98 139 178 153 79 13 151-9 217-67l-1-77c-70 82-139 114-208 96-70-18-117-58-143-120l-43 15z\"\n        />\n      </g>\n    </Svg>\n  );\n}\n","import { useRef, useLayoutEffect } from \"react\";\n\nexport default function useCanvas(\n  draw: (\n    ctx: CanvasRenderingContext2D,\n    dimensions: { width: number; height: number }\n  ) => void\n) {\n  const ref = useRef<HTMLCanvasElement>(null);\n  useLayoutEffect(() => {\n    const canvas = ref.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return;\n    var dpr = window.devicePixelRatio || 1;\n    var { width, height } = canvas.getBoundingClientRect();\n\n    //canvas.style.width = width + \"px\";\n    //canvas.style.height = height + \"px\";\n\n    // Give the canvas pixel dimensions of their CSS\n    // size * the device pixel ratio.\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n\n    // Scale all drawing operations by the dpr, so you\n    // don't have to worry about the difference.\n    ctx.scale(dpr, dpr);\n\n    const dimensions = { width, height };\n    let animationFrameId = requestAnimationFrame(renderFrame);\n    function renderFrame() {\n      animationFrameId = requestAnimationFrame(renderFrame);\n      if (ctx) draw(ctx, dimensions);\n    }\n    return () => cancelAnimationFrame(animationFrameId);\n  });\n  return ref;\n}\n","import React, { useRef, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport useCanvas from \"./hooks/useCanvas\";\nimport useAudio from \"./hooks/useAudio\";\n\nconst h = 5000;\n\nconst Canvas = styled.canvas`\n  position: absolute;\n  left: 25vw;\n  top: calc(50vh - 25vw);\n  width: 50vw;\n  height: 50vw;\n`;\n\nfunction getRandom(a: number, b: number) {\n  return Math.floor(Math.random() * a + b);\n}\n\nfunction easeOut(\n  current: number,\n  start: number,\n  change: number,\n  duration: number\n) {\n  const x = (current /= duration) * current;\n  return start + change * (x * current + -3 * x + 3 * current);\n}\n\ninterface Props {\n  candidates: any[];\n  spin: boolean;\n  onDone: (winner: any) => void;\n}\nexport default function Wheel({ candidates, spin, onDone }: Props) {\n  useAudio(`${process.env.PUBLIC_URL}/theme.mp3`, { loop: true, fade: 5000 });\n  const spinning = useRef(spin);\n\n  var startAngle = 0;\n  var f = 0;\n  var d = 10 + getRandom(17, 20);\n\n  const ref = useCanvas((ctx, { width }) => {\n    const arc = Math.PI / (candidates.length / 2);\n\n    if (spinning.current) {\n      f += 10;\n      if (f >= h) {\n        var i = (180 * startAngle) / Math.PI + 90;\n        var j = (180 * arc) / Math.PI;\n        var k = Math.floor((360 - (i % 360)) / j);\n        onDone(candidates[k]);\n        return;\n      }\n      const a = d - easeOut(f, 0, d, h);\n      startAngle += (a * Math.PI) / 180;\n    }\n\n    var center = width / 2;\n\n    var radius = center - 30;\n    ctx.clearRect(0, 0, 1e3, 1e3);\n    candidates.forEach((t, g) => {\n      var h = startAngle + g * arc;\n      ctx.fillStyle = t.color;\n      ctx.beginPath();\n      ctx.arc(center, center, radius, h, h + arc);\n      ctx.arc(center, center, 0, h + arc, h, true);\n      ctx.fill();\n      ctx.save();\n    });\n    ctx.fillStyle = \"#fff\";\n    ctx.beginPath();\n    ctx.moveTo(center - 30, 15);\n    ctx.lineTo(center + 30, 15);\n    ctx.lineTo(center, 60);\n    ctx.lineTo(center - 30, 15);\n    ctx.fill();\n  });\n\n  useEffect(() => {\n    const handle = setTimeout(() => {\n      spinning.current = spin;\n    }, 1100);\n    return () => clearTimeout(handle);\n  }, [spin]);\n\n  return <Canvas ref={ref} />;\n}\n","import styled from \"styled-components\";\n\nconst BottomButton = styled.button`\n  font-size: 5vw;\n  position: absolute;\n  z-index: 1;\n  display: block;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  padding: 0.2em;\n  background: #fff;\n  border: none;\n  text-align: center;\n  font-style: italic;\n  margin: 0 auto;\n  color: #000;\n  transition: all 0.2s;\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n  :hover {\n    padding: 0.5em;\n  }\n`;\n\nexport default BottomButton;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport useCanvas from \"./hooks/useCanvas\";\nimport BottomButton from \"./BottomButton\";\nimport useAudio from \"./hooks/useAudio\";\n\nconst fadeIn = keyframes`\n  0 { opacity: 0 }\n  to { opacity: 1 }\n`;\n\nconst Background = styled.div`\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  animation: ${fadeIn} 1s forwards;\n`;\n\nconst Canvas = styled.canvas`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n`;\n\nconst Photo = styled.img`\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  object-fit: cover;\n`;\n\nconst Name = styled.a`\n  font-size: 10vw;\n  font-weight: bold;\n  text-decoration: underline;\n  color: #fff;\n  transform: rotate(-10deg);\n`;\n\nfunction randomFromTo(a: number, b: number) {\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n\nvar intensity = 150;\nvar angle = 0;\nvar speed = 2;\nvar tiltAngle = 0;\nvar TiltChangeCountdown = 5;\n\ntype Color = {\n  r: number;\n  g: number;\n  b: number;\n};\n\ntype Particle = {\n  x: number;\n  y: number;\n  r: number;\n  d: number;\n  color: string;\n  tilt: number;\n  tiltAngleIncremental: number;\n  tiltAngle: number;\n};\n\nvar particles: Particle[] = [];\n\nfunction initParticles(width: number, height: number) {\n  for (var e = 0; e < intensity; e++) {\n    var color = {\n      r: Math.floor(255 * Math.random()),\n      g: Math.floor(255 * Math.random()),\n      b: Math.floor(255 * Math.random())\n    };\n\n    particles.push({\n      x: Math.random() * width,\n      y: Math.random() * height,\n      r: randomFromTo(5, 30),\n      d: Math.random() * intensity + 10,\n      color: \"rgba(\" + color.r + \", \" + color.g + \", \" + color.b + \", 0.7)\",\n      tilt: Math.floor(10 * Math.random()) - 10,\n      tiltAngleIncremental: 0.07 * Math.random() + 0.05,\n      tiltAngle: 0\n    });\n  }\n}\n\ninterface Props extends Candidate {\n  onClick: () => void;\n}\nexport default function Confetti({ name, photo, url, color, onClick }: Props) {\n  const ref = useCanvas((ctx, { width, height }) => {\n    if (!particles.length) {\n      initParticles(width, height);\n    }\n    ctx.clearRect(0, 0, width, height);\n    particles.forEach(d => {\n      ctx.beginPath();\n      ctx.lineWidth = d.r / 2;\n      ctx.strokeStyle = d.color;\n      ctx.moveTo(d.x + d.tilt + d.r / 4, d.y);\n      ctx.lineTo(d.x + d.tilt, d.y + d.tilt + d.r / 4);\n      ctx.stroke();\n    });\n\n    angle += 0.01;\n    tiltAngle += 0.1;\n    TiltChangeCountdown--;\n\n    particles.forEach((c, a) => {\n      c.tiltAngle += c.tiltAngleIncremental;\n      c.y += (Math.cos(angle + c.d) + 1 + c.r / speed) / 2;\n      c.x += Math.sin(angle);\n      c.tilt = 15 * Math.sin(c.tiltAngle - a / 3);\n\n      if (c.x > width + 5 || c.x < -5 || c.y > height) {\n        particles[a] =\n          a % 5 > 0 || a % 2 === 0\n            ? {\n                ...c,\n                x: Math.random() * width,\n                y: -10,\n                tilt: Math.floor(10 * Math.random()) - 10\n              }\n            : Math.sin(angle) > 0\n            ? {\n                ...c,\n                x: -5,\n                y: Math.random() * height,\n                tilt: Math.floor(10 * Math.random()) - 10\n              }\n            : {\n                ...c,\n                x: width + 5,\n                y: Math.random() * height,\n                tilt: Math.floor(10 * Math.random()) - 10\n              };\n      }\n    });\n  });\n  useAudio(\"/cheer.mp3\");\n  return (\n    <Background style={{ backgroundColor: color }}>\n      <Photo src={photo} />\n      <Name href={url}>{name}</Name>\n      <Canvas ref={ref} />\n      <BottomButton style={{ color }} onClick={onClick}>\n        Next...\n      </BottomButton>\n    </Background>\n  );\n}\n","import useJsonp from \"./useJsonp\";\nimport { useEffect, useState } from \"react\";\nimport useFetch from \"./useFetch\";\n\nexport default function useCandidates(eventId?: string) {\n  const example = useFetch(\n    !eventId && `${process.env.PUBLIC_URL}/example.json`\n  );\n  const event = useJsonp(\n    !!eventId &&\n      `https://api.meetup.com/hamburg-js/events/${eventId}/comments?callback=callback`\n  );\n  const data = event || example;\n  const [candidates, setCandidates] = useState();\n  useEffect(() => {\n    if (data) setCandidates(getCandidates(data));\n  }, [data]);\n\n  const remove = (candidate: Candidate) => {\n    if (candidates) {\n      const i = candidates.indexOf(candidate);\n      setCandidates(candidates.slice(0, i).concat(candidates.slice(i + 1)));\n    }\n  };\n\n  return [candidates, remove] as [Candidate[], (c: Candidate) => void];\n}\n\nfunction getUrl(s: string) {\n  const m = /https?:\\S+/.exec(s);\n  return m && m[0];\n}\n\nfunction getColor(i: number, n: number) {\n  return `hsl(${50 + (360 / n) * i}, ${90 + Math.random() * 10}%, ${55 +\n    Math.random() * 10}%)`;\n}\n\nfunction getCandidates(data: any): Candidate[] {\n  const comments = data.data.concat(\n    ...data.data.map((c: any) => c.replies).filter(Boolean)\n  );\n  return comments\n    .map((c: any) => ({\n      name: c.member && c.member.name,\n      photo: c.member && c.member.photo && c.member.photo.photo_link,\n      url: getUrl(c.comment)\n    }))\n    .filter((c: any) => c.url)\n    .map((c: any, i: number, a: any[]) => ({\n      ...c,\n      color: getColor(i, a.length)\n    }));\n}\n","import { useState, useEffect } from \"react\";\n\n/**\n * Hook that fetches JSON from a specified URL.\n */\nexport default function useFetch(url: string | false) {\n  const [data, setData] = useState();\n  useEffect(() => {\n    setData(null);\n    if (url)\n      fetch(url)\n        .then(res => res.json())\n        .then(setData);\n  }, [url]);\n  return data;\n}\n","import { useState, useEffect } from \"react\";\n\n/**\n * Hook that loads JSONP from a specified URL.\n */\nexport default function useJsonp(url: string | false, callback = \"callback\") {\n  const [data, setData] = useState();\n  useEffect(() => {\n    setData(null);\n    if (url) {\n      const s = document.createElement(\"script\");\n      (window as any)[callback] = (data: any) => {\n        setData(data);\n        delete (window as any)[callback];\n        if (s.parentNode) s.parentNode.removeChild(s);\n      };\n      s.src = url;\n      document.body.appendChild(s);\n    }\n  }, [url, callback]);\n  return data;\n}\n","import React, { useState } from \"react\";\nimport Arm from \"./Arm\";\nimport Wheel from \"./Wheel\";\nimport Confetti from \"./Confetti\";\nimport BottomButton from \"./BottomButton\";\nimport useCandidates from \"./hooks/useCandidates\";\n\nexport default function App() {\n  const [spin, setSpin] = useState(false);\n  const [winner, setWinner] = useState<Candidate>();\n  const [candidates, removeCandidate] = useCandidates();\n  if (!candidates || !candidates.length) return null;\n  const candidate = candidates.length === 1 ? candidates[0] : winner;\n  if (candidate)\n    return (\n      <Confetti\n        {...candidate}\n        onClick={() => {\n          removeCandidate(candidate);\n          setWinner(undefined);\n          setSpin(false);\n        }}\n      />\n    );\n  return (\n    <>\n      <Wheel spin={spin} onDone={setWinner} candidates={candidates} />\n      {spin && <Arm />}\n      {!spin && <BottomButton onClick={() => setSpin(true)}>GO!</BottomButton>}\n    </>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport App from \"./App\";\nimport logo from \"./logo.svg\";\n\nconst Stage = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  background: #f7f0ee;\n`;\n\nconst Logo = styled.img`\n  position: absolute;\n  top: 0;\n  right: 20px;\n  width: 100px;\n`;\n\nexport default function Root() {\n  return (\n    <Stage>\n      <App />\n      <Logo src={logo} />\n    </Stage>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Root from \"./Root\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<Root />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}